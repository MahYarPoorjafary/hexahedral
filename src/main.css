:root {
  /* Colors */
  --player-color: #3498db;
  --switch-on-color: #2ecc71;
  --switch-off-color: #e74c3c;
  --switch-broken-color: #34495e;
}

html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  width: 100%;
}

html {
  /* Sets up font size so that 1rem = 10px. */
  font-size: 62.5%;
}

body {
  display: flex;
  flex-direction: column;
  font-family: sans-serif;
}

header {
  font-size: 1.8rem;
  padding: 1rem;
  text-align: center;
}

main {
  margin: auto;
  position: relative;
  transform: rotateX(45deg) rotateZ(45deg);
  transform-style: preserve-3d;
}

footer {
  padding: 1rem;
  text-align: center;
}

.player {
  background-color: var(--player-color);
  border-radius: 50%;
  box-shadow: inset 0 0 0 0.2rem hsla(0, 0%, 0%, 0.1);
  pointer-events: none;
  position: absolute;
  transform: translateZ(14rem);
  transition: all 0.2s;
}

.cell,
.cell::after,
.cell::before {
  /* Helps hide the seams between the planes. */
  box-shadow: inset 0 0 0 0.2rem hsla(0, 0%, 0%, 0.1);
  content: '';
  height: 10rem;
  position: absolute;
  transition: background-color 0.2s;
  width: 10rem;
}

.cell {
  position: absolute;
  transform: translateZ(5rem) scale(0.9);
  transform-style: preserve-3d;
  transition: transform 0.1s;

  /* Left */
  &::after {
    transform: rotateX(-90deg) translateY(10rem);
    transform-origin: 100% 100%;
  }

  /* Right */
  &::before {
    transform: rotateY(90deg) translateX(10rem);
    transform-origin: 100% 0;
  }

  &.on {
    background-color: var(--switch-on-color);

    &::after {
      background-color: color(var(--switch-on-color) shade(7%));
    }

    &::before {
      background-color: color(var(--switch-on-color) shade(14%));
    }
  }

  &.off {
    background-color: var(--switch-off-color);
    transform: translateZ(6rem) scale(0.9);

    &::after {
      background-color: color(var(--switch-off-color) shade(7%));
    }

    &::before {
      background-color: color(var(--switch-off-color) shade(14%));
    }
  }

  &.broken {
    background-color: var(--switch-broken-color);

    &::after {
      background-color: color(var(--switch-broken-color) shade(7%));
    }

    &::before {
      background-color: color(var(--switch-broken-color) shade(14%));
    }
  }
}
